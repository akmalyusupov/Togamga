$(function() {



    // Contact
    $('.btn-map-one').click(function () {
        $('.btn-map-two').removeClass('act');
        $('.btn-map-one').addClass('act');
    });
    $('.btn-map-two').click(function () {
        $('.btn-map-one').removeClass('act');
        $('.btn-map-two').addClass('act');
    });

    $("#parent-check br").remove();
    // $('#parent-check label:nth-child(1)').addClass('check-one check');
    $('#parent-check label:nth-child(2)').addClass('custom-radio__label check-one form-check-labe not-checked');
    // $('#parent-check label:nth-child(3)').addClass('check-two check');
    $('#parent-check label:nth-child(4)').addClass('custom-radio__label check-two form-check-labe not-checked');
    // $('#parent-check label:nth-child(5)').addClass('check-three check');
    $('#parent-check label:nth-child(6)').addClass('custom-radio__label check-three form-check-labe not-checked');

    $('.check-one').click(function () {
        $('.check-one').removeClass('not-checked').addClass('checked');
        $('.check-two').removeClass('checked').addClass('not-checked');
        $('.check-three').removeClass('checked').addClass('not-checked');
    });

    $('.check-two').click(function () {
        $('.check-one').removeClass('checked').addClass('not-checked');
        $('.check-two').removeClass('not-checked').addClass('checked');
        $('.check-three').removeClass('checked').addClass('not-checked');
    });

    $('.check-three').click(function () {
        $('.check-one').removeClass('checked').addClass('not-checked');
        $('.check-two').removeClass('checked').addClass('not-checked');
        $('.check-three').removeClass('not-checked').addClass('checked');
    });
    // contact end

    // Поиск
    $('.main-menu__search').click(function(event) {
        $(this).addClass('search-open');
        $('#search').focus();
    });
    $(document).mouseup( function (event) {
        var target = $('search-open');
        if (!target.is(event.target) && target.has(event.target).length === 0) {
            $('.main-menu__search').removeClass('search-open');
        }
    });

    //jobs page
    $('.js-dropdown_toggle').click(function () {
        $('.js-dropdown_item').slideToggle();
    });

    $("#js-btn-one").click(function(){ $("#square-one").slideDown(500)});
    $("#js-btn-two").click(function(){ $("#square-two").slideDown(500)});

    /*$('.input-file, .js-select, .input_radio').styler({
        selectSearch: true,
    });*/
    //jobs end

    // Mobile menu
    $('.js-dropdown_menu_toggle > a').click(function () {
        $('div.js-dropdown_menu_item').slideToggle();
    });



    $(".hamburger").click(function(){
        $(this).toggleClass("is-active");
        $("body").toggleClass("disable-scroll");
        if($(".hamburger").is(".is-active")) {
            $(".hamburger-title").text("close")
        } else {
            $(".hamburger-title").text("menu")
        }

        // $(".menu-area").toggleClass("js-bounce");
        $(".menu-area").toggleClass("is-active").fadeToggle();

    })

    // Video youtube
    function findVideos() {
        let videos = document.querySelectorAll('.video');

        for (let i = 0; i < videos.length; i++) {
            setupVideo(videos[i]);
        }
    }

    function setupVideo(video) {
        let link = video.querySelector('.video__link');
        let media = video.querySelector('.video__media');
        let button = video.querySelector('.video__button');
        let id = parseMediaURL(media);

        video.addEventListener('click', () => {
            let iframe = createIframe(id);

            link.remove();
            button.remove();
            video.appendChild(iframe);
        });

        link.removeAttribute('href');
        video.classList.add('video--enabled');
    }

    function parseMediaURL(media) {
        let regexp = /https:\/\/i\.ytimg\.com\/vi\/([a-zA-Z0-9_-]+)\/maxresdefault\.jpg/i;
        let url = media.src;
        let match = url.match(regexp);

        return match[1];
    }

    function createIframe(id) {
        let iframe = document.createElement('iframe');

        iframe.setAttribute('allowfullscreen', '');
        iframe.setAttribute('allow', 'autoplay');
        iframe.setAttribute('src', generateURL(id));
        iframe.classList.add('video__media');

        return iframe;
    }

    function generateURL(id) {
        let query = '?rel=0&showinfo=0&autoplay=1';

        return 'https://www.youtube.com/embed/' + id + query;
    }

    findVideos();
    //end
});